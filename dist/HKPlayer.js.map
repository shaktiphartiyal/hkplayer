{"version":3,"sources":["../HKPlayer.js"],"names":["HKPlayer","players","virtualPlayers","setStyles","getPlayers","initPlayers","style","document","createElement","innerHTML","_getStyles","getElementsByTagName","appendChild","length","Math","round","random","pow","toString","slice","player","_initPlayer","videoId","generateRandomId","cloneNode","videoDiv","id","classList","getAttribute","video","controls","ontimeupdate","updateMediaProgress","addEventListener","showMediaLoading","source","src","controlDiv","_getControls","replaceWith","progress","setAttribute","seekMedia","replayButton","title","restartMedia","playPauseButton","playPauseMedia","stopButton","stopMedia","volumeMuteButton","muteUnmuteMedia","volumeRange","type","min","max","setMediaVolume","control","button","srcElement","getElementById","currentTime","paused","play","pause","event","progressBar","offsetLeft","left","pageX","totalWidth","scrollWidth","percentage","videoTime","duration","muted","range","volume","value","poster","removeAttribute","progresbar","funcName","baseObj","window","readyList","readyFired","readyEventHandlersInstalled","ready","i","fn","call","ctx","readyStateChange","readyState","callback","context","TypeError","setTimeout","push","attachEvent","docReady"],"mappings":"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","file":"HKPlayer.js","sourcesContent":["class HKPlayer\n{\n    constructor()\n    {\n        this.players = [];\n        this.virtualPlayers = {};\n        this.setStyles();\n        this.getPlayers();\n        this.initPlayers();\n    }\n    setStyles()\n    {\n        let style = document.createElement('style');\n        style.innerHTML = this._getStyles();\n        document.getElementsByTagName(\"head\")[0].appendChild(style);\n    }\n    generateRandomId()\n    {\n        let length = Math.round(Math.random()*15);\n        return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1);\n    }\n    getPlayers()\n    {\n        this.players = document.getElementsByTagName(\"HKPlayer\");\n    }\n    initPlayers()\n    {\n        for(let player of this.players)\n        {\n            this._initPlayer(player);\n        }\n    }\n    _initPlayer(player)\n    {\n        const videoId = this.generateRandomId();\n        this.virtualPlayers[videoId] = player.cloneNode(true);\n        let videoDiv = document.createElement('div');\n        videoDiv.id = 'master-'+videoId;\n        videoDiv.classList = 'HKPlayerPlayerTheme-'+player.getAttribute('theme');\n\n        let video = document.createElement('video');\n        video.id = videoId;\n        video.controls = false;\n        video.ontimeupdate = this.updateMediaProgress;\n\n        video.addEventListener('loadstart', this.showMediaLoading, false);\n        video.addEventListener('canplay', this.showMediaLoading, false);\n\n        let source = document.createElement('source');\n        source.src = player.getAttribute('src');\n        video.appendChild(source);\n        videoDiv.appendChild(video);\n        let controlDiv = this._getControls(player, videoId);\n        videoDiv.appendChild(controlDiv);\n        //player.appendChild(videoDiv);\n        player.replaceWith(videoDiv);\n    }\n    _getControls(player, videoId)\n    {\n        let controlDiv = document.createElement('div');\n        controlDiv.id = 'controls-'+videoId;\n        controlDiv.classList = 'HKPlayerControls';\n\n        let progress = document.createElement('progress');\n        progress.id = 'HKPlayer-progress-'+videoId;\n        progress.classList = 'HKPlayer-progress';\n        progress.setAttribute('min', '0');\n        progress.setAttribute('max', '100');\n        progress.setAttribute('value', '0');\n        progress.setAttribute('data-for', videoId);\n        progress.addEventListener('click', this.seekMedia, false);\n        controlDiv.appendChild(progress);\n\n\n        let replayButton = document.createElement('button');\n        replayButton.id = 'HKPlayer-replay-'+videoId;\n        replayButton.setAttribute('data-for', videoId);\n        replayButton.classList = 'HKPlayer-replay';\n        replayButton.title = 'Replay';\n        replayButton.innerHTML = ' ';\n        replayButton.addEventListener('click',this.restartMedia);\n        controlDiv.appendChild(replayButton);\n\n        let playPauseButton = document.createElement('button');\n        playPauseButton.id = 'HKPlayer-playPause-'+videoId;\n        playPauseButton.setAttribute('data-for', videoId);\n        playPauseButton.classList = 'HKPlayer-play';\n        playPauseButton.title = 'Play';\n        playPauseButton.innerHTML = '';\n        playPauseButton.addEventListener('click',this.playPauseMedia);\n        controlDiv.appendChild(playPauseButton);\n\n        let stopButton = document.createElement('button');\n        stopButton.id = 'HKPlayer-stop-'+videoId;\n        stopButton.setAttribute('data-for', videoId);\n        stopButton.classList = 'HKPlayer-stop';\n        stopButton.title = 'Stop';\n        stopButton.innerHTML = ' ';\n        stopButton.addEventListener('click',this.stopMedia);\n        controlDiv.appendChild(stopButton);\n\n        let volumeMuteButton = document.createElement('button');\n        volumeMuteButton.id = 'HKPlayer-volumeMuteUnmute-'+videoId;\n        volumeMuteButton.setAttribute('data-for', videoId);\n        volumeMuteButton.classList = 'HKPlayer-volumeMute';\n        volumeMuteButton.title = 'Mute';\n        volumeMuteButton.innerHTML = ' ';\n        volumeMuteButton.addEventListener('click',this.muteUnmuteMedia);\n        controlDiv.appendChild(volumeMuteButton);\n        \n        let volumeRange = document.createElement('input');\n        volumeRange.type = 'range';\n        volumeRange.min = 0;\n        volumeRange.max = 100;\n        volumeRange.id = 'HKPlayer-volume-'+videoId;\n        volumeRange.setAttribute('data-for', videoId);\n        volumeRange.classList = 'HKPlayer-volume';\n        volumeRange.title = 'Volume';\n        volumeRange.innerHTML = '';\n        volumeRange.addEventListener('change', this.setMediaVolume, false);\n        controlDiv.appendChild(volumeRange);\n\n        return controlDiv;\n    }\n\n    restartMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        video.currentTime = 0;\n    }\n\n    playPauseMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        if (video.paused)\n        {\n            button.classList = 'HKPlayer-pause';\n            video.play();\n        }\n        else\n        {\n            button.classList = 'HKPlayer-play';\n            video.pause();\n        }\n    }\n\n    seekMedia(event)\n    {\n        let progressBar = event.srcElement;\n        let videoId = progressBar.getAttribute('data-for');\n        let video = document.getElementById(videoId);\n         let offsetLeft = progressBar.offsetLeft;\n        let left = (event.pageX - offsetLeft);\n        let totalWidth = progressBar.scrollWidth;\n        let percentage = ( left / totalWidth );\n        let videoTime = percentage*video.duration;\n        video.currentTime = videoTime;\n    }\n\n    stopMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        video.pause();\n        video.currentTime = 0;\n        let playPauseButton = document.getElementById('HKPlayer-playPause-'+id);\n        playPauseButton.classList = 'HKPlayer-play';\n    }\n    muteUnmuteMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        if(video.muted)\n        {\n            button.classList = 'HKPlayer-volumeMute';\n            video.muted= false;\n        }\n        else\n        {\n            button.classList = 'HKPlayer-volumeUnmute';\n            video.muted= true;\n        }\n    }\n\n    setMediaVolume(event)\n    {\n        let range = event.srcElement;\n        let id = range.getAttribute('data-for');\n        let video = document.getElementById(id);\n        video.volume = range.value/100;\n    }\n\n    showMediaLoading(event)\n    {\n        let video = event.srcElement;\n        let videoId = video.id;\n        if(event.type == 'loadstart')\n        {\n            video.poster = 'icons/buffering.svg';\n        }\n        else if(event.type == 'canplay')\n        {\n            video.removeAttribute('poster');\n        }\n    }\n\n    updateMediaProgress(event)\n    {\n        let video = event.srcElement;\n        let videoId = video.id;\n        let progresbar = document.getElementById('HKPlayer-progress-'+videoId);\n        let percentage = ( video.currentTime / video.duration ) * 100;\n        progresbar.value = percentage;\n    }\n\n\n    _getStyles()\n    {\n\n    }\n}\n\n(function(funcName, baseObj) {\n    // The public function name defaults to window.docReady\n    // but you can pass in your own object and own function name and those will be used\n    // if you want to put them in a different namespace\n    funcName = funcName || \"docReady\";\n    baseObj = baseObj || window;\n    var readyList = [];\n    var readyFired = false;\n    var readyEventHandlersInstalled = false;\n\n    // call this when the document is ready\n    // this function protects itself against being called more than once\n    function ready() {\n        if (!readyFired) {\n            // this must be set to true before we start calling callbacks\n            readyFired = true;\n            for (var i = 0; i < readyList.length; i++) {\n                // if a callback here happens to add new ready handlers,\n                // the docReady() function will see that it already fired\n                // and will schedule the callback to run right after\n                // this event loop finishes so all handlers will still execute\n                // in order and no new ones will be added to the readyList\n                // while we are processing the list\n                readyList[i].fn.call(window, readyList[i].ctx);\n            }\n            // allow any closures held by these functions to free\n            readyList = [];\n        }\n    }\n\n    function readyStateChange() {\n        if ( document.readyState === \"complete\" ) {\n            ready();\n        }\n    }\n\n    // This is the one public interface\n    // docReady(fn, context);\n    // the context argument is optional - if present, it will be passed\n    // as an argument to the callback\n    baseObj[funcName] = function(callback, context) {\n        if (typeof callback !== \"function\") {\n            throw new TypeError(\"callback for docReady(fn) must be a function\");\n        }\n        // if ready has already fired, then just schedule the callback\n        // to fire asynchronously, but right away\n        if (readyFired) {\n            setTimeout(function() {callback(context);}, 1);\n            return;\n        } else {\n            // add the function and context to the list\n            readyList.push({fn: callback, ctx: context});\n        }\n        // if document already ready to go, schedule the ready function to run\n        if (document.readyState === \"complete\") {\n            setTimeout(ready, 1);\n        } else if (!readyEventHandlersInstalled) {\n            // otherwise if we don't have event handlers installed, install them\n            if (document.addEventListener) {\n                // first choice is DOMContentLoaded event\n                document.addEventListener(\"DOMContentLoaded\", ready, false);\n                // backup is window load event\n                window.addEventListener(\"load\", ready, false);\n            } else {\n                // must be IE\n                document.attachEvent(\"onreadystatechange\", readyStateChange);\n                window.attachEvent(\"onload\", ready);\n            }\n            readyEventHandlersInstalled = true;\n        }\n    }\n})(\"docReady\", window);\n\ndocReady(function () {\n    new HKPlayer();\n});"]}