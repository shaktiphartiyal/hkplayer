{"version":3,"sources":["../HKPlayer.js"],"names":["HKPlayer","players","virtualPlayers","setStyles","getPlayers","initPlayers","style","document","createElement","innerHTML","_getStyles","getElementsByTagName","appendChild","length","Math","round","random","pow","toString","slice","player","_initPlayer","videoId","generateRandomId","cloneNode","videoDiv","id","classList","getAttribute","video","controls","ontimeupdate","updateMediaProgress","addEventListener","mediaContext","playPauseMedia","showMediaLoading","source","src","controlDiv","_getControls","replaceWith","event","preventDefault","progress","setAttribute","seekMedia","replayButton","title","restartMedia","playPauseButton","stopButton","stopMedia","volumeMuteButton","muteUnmuteMedia","fullScreenToggleButton","fullScreen","volumeRange","type","min","max","setMediaVolume","control","button","srcElement","videoPlayer","getElementById","isFullScreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","callback","currentTime","paused","play","pause","progressBar","offsetLeft","left","pageX","totalWidth","scrollWidth","percentage","videoTime","duration","muted","range","volume","value","poster","removeAttribute","progresbar","funcName","baseObj","window","readyList","readyFired","readyEventHandlersInstalled","ready","i","fn","call","ctx","readyStateChange","readyState","context","TypeError","setTimeout","push","attachEvent","docReady"],"mappings":"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","file":"HKPlayer.js","sourcesContent":["class HKPlayer\n{\n    constructor()\n    {\n        this.players = [];\n        this.virtualPlayers = {};\n        this.setStyles();\n        this.getPlayers();\n        this.initPlayers();\n    }\n    setStyles()\n    {\n        let style = document.createElement('style');\n        style.innerHTML = this._getStyles();\n        document.getElementsByTagName(\"head\")[0].appendChild(style);\n    }\n    generateRandomId()\n    {\n        let length = Math.round(Math.random()*15);\n        return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1);\n    }\n    getPlayers()\n    {\n        this.players = document.getElementsByTagName(\"HKPlayer\");\n    }\n    initPlayers()\n    {\n        for(let player of this.players)\n        {\n            this._initPlayer(player);\n        }\n    }\n    _initPlayer(player)\n    {\n        const videoId = this.generateRandomId();\n        this.virtualPlayers[videoId] = player.cloneNode(true);\n        let videoDiv = document.createElement('div');\n        videoDiv.id = 'HKPlayer-master-'+videoId;\n        videoDiv.classList = 'HKPlayerPlayerTheme-'+player.getAttribute('theme');\n\n        let video = document.createElement('video');\n        video.id = videoId;\n        video.controls = false;\n        video.ontimeupdate = this.updateMediaProgress;\n\n        video.addEventListener('contextmenu', this.mediaContext, false);\n        video.addEventListener('click', this.playPauseMedia, false);\n        video.addEventListener('loadstart', this.showMediaLoading, false);\n        video.addEventListener('canplay', this.showMediaLoading, false);\n\n        let source = document.createElement('source');\n        source.src = player.getAttribute('src');\n        video.appendChild(source);\n        videoDiv.appendChild(video);\n        let controlDiv = this._getControls(player, videoId);\n        videoDiv.appendChild(controlDiv);\n        //player.appendChild(videoDiv);\n        player.replaceWith(videoDiv);\n    }\n\n    mediaContext(event)\n    {\n        event.preventDefault();\n        return false;\n    }\n\n    _getControls(player, videoId)\n    {\n        let controlDiv = document.createElement('div');\n        controlDiv.id = 'controls-'+videoId;\n        controlDiv.classList = 'HKPlayerControls';\n\n        let progress = document.createElement('progress');\n        progress.id = 'HKPlayer-progress-'+videoId;\n        progress.classList = 'HKPlayer-progress';\n        progress.setAttribute('min', '0');\n        progress.setAttribute('max', '100');\n        progress.setAttribute('value', '0');\n        progress.setAttribute('data-for', videoId);\n        progress.addEventListener('click', this.seekMedia, false);\n        controlDiv.appendChild(progress);\n\n\n        let replayButton = document.createElement('button');\n        replayButton.id = 'HKPlayer-replay-'+videoId;\n        replayButton.setAttribute('data-for', videoId);\n        replayButton.classList = 'HKPlayer-replay';\n        replayButton.title = 'Replay';\n        replayButton.innerHTML = ' ';\n        replayButton.addEventListener('click',this.restartMedia);\n        controlDiv.appendChild(replayButton);\n\n        let playPauseButton = document.createElement('button');\n        playPauseButton.id = 'HKPlayer-playPause-'+videoId;\n        playPauseButton.setAttribute('data-for', videoId);\n        playPauseButton.classList = 'HKPlayer-play';\n        playPauseButton.title = 'Play';\n        playPauseButton.innerHTML = '';\n        playPauseButton.addEventListener('click',this.playPauseMedia);\n        controlDiv.appendChild(playPauseButton);\n\n        let stopButton = document.createElement('button');\n        stopButton.id = 'HKPlayer-stop-'+videoId;\n        stopButton.setAttribute('data-for', videoId);\n        stopButton.classList = 'HKPlayer-stop';\n        stopButton.title = 'Stop';\n        stopButton.innerHTML = ' ';\n        stopButton.addEventListener('click',this.stopMedia);\n        controlDiv.appendChild(stopButton);\n\n        let volumeMuteButton = document.createElement('button');\n        volumeMuteButton.id = 'HKPlayer-volumeMuteUnmute-'+videoId;\n        volumeMuteButton.setAttribute('data-for', videoId);\n        volumeMuteButton.classList = 'HKPlayer-volumeMute';\n        volumeMuteButton.title = 'Mute';\n        volumeMuteButton.innerHTML = ' ';\n        volumeMuteButton.addEventListener('click',this.muteUnmuteMedia);\n        controlDiv.appendChild(volumeMuteButton);\n\n        let fullScreenToggleButton = document.createElement('button');\n        fullScreenToggleButton.id = 'HKPlayer-fullScreenToggle-'+videoId;\n        fullScreenToggleButton.setAttribute('data-for', videoId);\n        fullScreenToggleButton.classList = 'HKPlayer-fullScreenToggle';\n        fullScreenToggleButton.title = 'Fullscreen';\n        fullScreenToggleButton.innerHTML = ' ';\n        fullScreenToggleButton.addEventListener('click',this.fullScreen);\n        controlDiv.appendChild(fullScreenToggleButton);\n\n        let volumeRange = document.createElement('input');\n        volumeRange.type = 'range';\n        volumeRange.min = 0;\n        volumeRange.max = 100;\n        volumeRange.id = 'HKPlayer-volume-'+videoId;\n        volumeRange.setAttribute('data-for', videoId);\n        volumeRange.classList = 'HKPlayer-volume';\n        volumeRange.title = 'Volume';\n        volumeRange.innerHTML = '';\n        volumeRange.addEventListener('change', this.setMediaVolume, false);\n        controlDiv.appendChild(volumeRange);\n\n        return controlDiv;\n    }\n\n    fullScreen(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let videoPlayer = document.getElementById('HKPlayer-master-'+id);\n        let isFullScreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n        if (isFullScreen)\n        {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            } else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n        }\n        else\n        {\n            if (videoPlayer.requestFullscreen) {\n                videoPlayer.requestFullscreen();\n            } else if (videoPlayer.mozRequestFullScreen) {\n                videoPlayer.mozRequestFullScreen();\n            } else if (videoPlayer.webkitRequestFullscreen) {\n                videoPlayer.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n            } else if (videoPlayer.msRequestFullscreen) {\n                videoPlayer.msRequestFullscreen();\n            }\n        }\n        if(typeof(callback) == \"function\")\n        {\n            callback();\n        }\n    }\n\n    restartMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        video.currentTime = 0;\n    }\n\n    playPauseMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        if(!video)\n        {\n            video = control.srcElement;\n            id = video.id;\n            button = document.getElementById('HKPlayer-playPause-'+id);\n        }\n        if (video.paused)\n        {\n            button.classList = 'HKPlayer-pause';\n            video.play();\n        }\n        else\n        {\n            button.classList = 'HKPlayer-play';\n            video.pause();\n        }\n    }\n\n    seekMedia(event)\n    {\n        let progressBar = event.srcElement;\n        let videoId = progressBar.getAttribute('data-for');\n        let video = document.getElementById(videoId);\n         let offsetLeft = progressBar.offsetLeft;\n        let left = (event.pageX - offsetLeft);\n        let totalWidth = progressBar.scrollWidth;\n        let percentage = ( left / totalWidth );\n        let videoTime = percentage*video.duration;\n        video.currentTime = videoTime;\n    }\n\n    stopMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        video.pause();\n        video.currentTime = 0;\n        let playPauseButton = document.getElementById('HKPlayer-playPause-'+id);\n        playPauseButton.classList = 'HKPlayer-play';\n    }\n    muteUnmuteMedia(control)\n    {\n        let button = control.srcElement;\n        let id = button.getAttribute('data-for');\n        let video = document.getElementById(id);\n        if(video.muted)\n        {\n            button.classList = 'HKPlayer-volumeMute';\n            video.muted= false;\n        }\n        else\n        {\n            button.classList = 'HKPlayer-volumeUnmute';\n            video.muted= true;\n        }\n    }\n\n    setMediaVolume(event)\n    {\n        let range = event.srcElement;\n        let id = range.getAttribute('data-for');\n        let video = document.getElementById(id);\n        video.volume = range.value/100;\n    }\n\n    showMediaLoading(event)\n    {\n        let video = event.srcElement;\n        let videoId = video.id;\n        if(event.type == 'loadstart')\n        {\n            video.poster = 'icons/buffering.svg';\n        }\n        else if(event.type == 'canplay')\n        {\n            video.removeAttribute('poster');\n        }\n    }\n\n    updateMediaProgress(event)\n    {\n        let video = event.srcElement;\n        let videoId = video.id;\n        let progresbar = document.getElementById('HKPlayer-progress-'+videoId);\n        let percentage = ( video.currentTime / video.duration ) * 100;\n        progresbar.value = percentage;\n    }\n\n\n    _getStyles()\n    {\n\n    }\n}\n\n(function(funcName, baseObj) {\n    // The public function name defaults to window.docReady\n    // but you can pass in your own object and own function name and those will be used\n    // if you want to put them in a different namespace\n    funcName = funcName || \"docReady\";\n    baseObj = baseObj || window;\n    var readyList = [];\n    var readyFired = false;\n    var readyEventHandlersInstalled = false;\n\n    // call this when the document is ready\n    // this function protects itself against being called more than once\n    function ready() {\n        if (!readyFired) {\n            // this must be set to true before we start calling callbacks\n            readyFired = true;\n            for (var i = 0; i < readyList.length; i++) {\n                // if a callback here happens to add new ready handlers,\n                // the docReady() function will see that it already fired\n                // and will schedule the callback to run right after\n                // this event loop finishes so all handlers will still execute\n                // in order and no new ones will be added to the readyList\n                // while we are processing the list\n                readyList[i].fn.call(window, readyList[i].ctx);\n            }\n            // allow any closures held by these functions to free\n            readyList = [];\n        }\n    }\n\n    function readyStateChange() {\n        if ( document.readyState === \"complete\" ) {\n            ready();\n        }\n    }\n\n    // This is the one public interface\n    // docReady(fn, context);\n    // the context argument is optional - if present, it will be passed\n    // as an argument to the callback\n    baseObj[funcName] = function(callback, context) {\n        if (typeof callback !== \"function\") {\n            throw new TypeError(\"callback for docReady(fn) must be a function\");\n        }\n        // if ready has already fired, then just schedule the callback\n        // to fire asynchronously, but right away\n        if (readyFired) {\n            setTimeout(function() {callback(context);}, 1);\n            return;\n        } else {\n            // add the function and context to the list\n            readyList.push({fn: callback, ctx: context});\n        }\n        // if document already ready to go, schedule the ready function to run\n        if (document.readyState === \"complete\") {\n            setTimeout(ready, 1);\n        } else if (!readyEventHandlersInstalled) {\n            // otherwise if we don't have event handlers installed, install them\n            if (document.addEventListener) {\n                // first choice is DOMContentLoaded event\n                document.addEventListener(\"DOMContentLoaded\", ready, false);\n                // backup is window load event\n                window.addEventListener(\"load\", ready, false);\n            } else {\n                // must be IE\n                document.attachEvent(\"onreadystatechange\", readyStateChange);\n                window.attachEvent(\"onload\", ready);\n            }\n            readyEventHandlersInstalled = true;\n        }\n    }\n})(\"docReady\", window);\n\ndocReady(function () {\n    new HKPlayer();\n});"]}